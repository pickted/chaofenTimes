import{q as r}from"./index-3f0eb617.js";const t=()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Failed to load user from storage:",e),null}},o=r("user",{state:()=>({currentUser:t(),isAuthenticated:!!t()}),getters:{getUserInfo:e=>e.currentUser,checkAuth:e=>e.isAuthenticated},actions:{login(e){this.currentUser=e,this.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(e))},logout(){this.currentUser=null,this.isAuthenticated=!1,localStorage.removeItem("user")},updateUserInfo(e){this.currentUser&&(this.currentUser={...this.currentUser,...e},localStorage.setItem("user",JSON.stringify(this.currentUser)))}}});export{o as u};
