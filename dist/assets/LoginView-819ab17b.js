import{_ as y,u as F,r as U,f as C,a as l,o as L,c as B,d as o,w as r,b as m,e as a,E as _}from"./index-3f0eb617.js";import{u as E}from"./userStore-d1542a98.js";const N={class:"login-container"},R={class:"register-link"},q={__name:"LoginView",setup(S){const c=F(),f=E(),u=U(null),s=C({username:"",password:"",remember:!1}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:30,message:"密码长度在 6 到 30 个字符",trigger:"blur"}]},b=async()=>{await u.value.validate(async d=>{if(d)try{const e={id:1,username:s.username,avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"};f.login(e),_.success("登录成功！"),c.push("/forum")}catch(e){_.error("用户名或密码错误"),console.error("登录失败:",e)}})},w=()=>{u.value.resetFields()};return(d,e)=>{const i=l("el-input"),n=l("el-form-item"),V=l("el-checkbox"),p=l("el-button"),k=l("router-link"),x=l("el-form"),v=l("el-card");return L(),B("div",N,[o(v,{class:"login-card"},{header:r(()=>e[3]||(e[3]=[m("h2",{class:"login-title"},"用户登录",-1)])),default:r(()=>[o(x,{model:s,rules:g,ref_key:"loginFormRef",ref:u,"label-width":"80px",class:"login-form"},{default:r(()=>[o(n,{label:"用户名",prop:"username"},{default:r(()=>[o(i,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),placeholder:"请输入用户名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"password"},{default:r(()=>[o(i,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(n,{prop:"remember"},{default:r(()=>[o(V,{modelValue:s.remember,"onUpdate:modelValue":e[2]||(e[2]=t=>s.remember=t)},{default:r(()=>e[4]||(e[4]=[a("记住我",-1)])),_:1,__:[4]},8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(p,{type:"primary",onClick:b,class:"login-button"},{default:r(()=>e[5]||(e[5]=[a("登录",-1)])),_:1,__:[5]}),o(p,{onClick:w},{default:r(()=>e[6]||(e[6]=[a("重置",-1)])),_:1,__:[6]})]),_:1}),m("div",R,[e[8]||(e[8]=m("span",null,"还没有账号？",-1)),o(k,{to:"/register",class:"link"},{default:r(()=>e[7]||(e[7]=[a("立即注册",-1)])),_:1,__:[7]})])]),_:1},8,["model"])]),_:1})])}}},T=y(q,[["__scopeId","data-v-8e33dfd9"]]);export{T as default};
